---
import { Image } from "astro:assets";
import { ExternalLink } from "lucide-preact";
import weldrIcon from "@/assets/logos/weldr.png";

// Projects data
const projects = [
	{
		name: "Weldr",
		description:
			"Chat-native AI coding platform where agents generate working codebases and model repositories as semantic call graphs, with visual canvas highlighting key architectural components for instant comprehension.",
		link: "https://github.com/weldr-ai/weldr",
		icon: weldrIcon,
	},
	{
		name: "Thoth",
		description:
			"Statically-typed DSL that unifies database, server, and client tiers into a single program, compiling to production-ready TypeScript and reducing boilerplate by up to 70%.",
		link: "https://github.com/abdufelsayed/thoth",
	},
];
---

<div class="space-y-8">
	<h2 class="text-2xl font-bold">Projects</h2>
	<ul class="space-y-3">
		{
			projects.map((project) => (
				<li class="flex items-start gap-3">
					<div class="shrink-0 w-10 h-10 rounded-lg overflow-hidden">
						{project.icon ? (
							<Image
								src={project.icon}
								alt={`${project.name} logo`}
								class="w-full h-full object-cover"
							/>
						) : (
							<div class="w-full h-full bg-muted flex items-center justify-center text-sm font-medium">
								{project.name.charAt(0)}
							</div>
						)}
					</div>
					<div class="min-w-0 flex-1">
						<div class="flex items-center justify-between gap-4">
							<span class="font-medium text-base">{project.name}</span>
							<a
								href={project.link}
								target="_blank"
								rel="noopener noreferrer"
								class="text-xs text-muted-foreground hover:underline underline-offset-2 shrink-0 flex items-center gap-1"
							>
								{project.link.replace(/^https?:\/\//, "")}
								<ExternalLink class="h-3 w-3" />
							</a>
						</div>
						{project.description && (
							<p class="text-xs text-muted-foreground mt-0.5">
								{project.description}
							</p>
						)}
					</div>
				</li>
			))
		}
	</ul>
</div>
